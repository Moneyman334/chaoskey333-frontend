window.onload = async function () {
  const connectWalletBtn = document.getElementById("connectWallet");
  const mintStatus = document.getElementById("mintStatus");
  let userAddress;

  // Connect MetaMask Wallet
  connectWalletBtn.onclick = async () => {
    if (typeof window.ethereum !== "undefined") {
      try {
        const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
        userAddress = accounts[0];
        console.log("🟢 Wallet connected:", userAddress);
        connectWalletBtn.innerText = "✅ Wallet: " + userAddress.slice(0, 6) + "..." + userAddress.slice(-4);
        mintStatus.innerText = "🧿 Ready to mint...";
      } catch (error) {
        console.error("❌ MetaMask connection error:", error);
        mintStatus.innerText = "⚠️ Wallet connection failed.";
      }
    } else {
      alert("🚨 MetaMask not found. Install the extension to continue.");
    }
  };
};
